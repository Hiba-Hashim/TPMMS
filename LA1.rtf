{\rtf1\ansi\ansicpg1252\cocoartf1671\cocoasubrtf600
{\fonttbl\f0\fmodern\fcharset0 CourierNewPSMT;\f1\froman\fcharset0 Times-Roman;\f2\fmodern\fcharset0 CourierNewPS-BoldMT;
\f3\fswiss\fcharset0 ArialNarrow-Bold;\f4\fmodern\fcharset0 CourierNewPS-BoldItalicMT;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}}
\margl1440\margr1440\viewkind1\viewscale188
\deftab720
\pard\pardeftab720\ri0\partightenfactor0

\f0\fs22 \cf0 \
\pard\pardeftab720\ri0\qc\partightenfactor0
\cf0   
\f1 Concordia University\
     Dept. of Computer Science and Software Engineering\
   COMP 6521: Advanced Database Technology and Applications\
    Winter 2019-2020
\f0 \
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
\pard\pardeftab720\ri0\partightenfactor0

\f2\b \cf0 \ul \ulc0 Lab Assignment 1\
\
PLEASE note the changes below in the record structure:\
\pard\pardeftab720\ri0\partightenfactor0

\f0\b0 \cf0 \ulnone \
Total Points: 8\
Codes & Reports: Wed. Feb. 19, 2020 at noon  \
Demos: Wed. Feb. 19, 2020  \
\
Project Description: 
\f2\b We have the data files T1 and T2  \
with the same schema as follows:\
\
 
\f3 EmpID INT (8) \
  LastUpdate CHAR (10)\
  EmName CHAR(25)\
  Gender INT(1)\
  Dept. INT(3)\
  Social Insurance Number INT(9)\
  Address CHAR(43)\

\f0\b0   \
\
\pard\pardeftab720\ri0\qj\partightenfactor0
\cf0 Date is a string of length 10 characters of the form \'91YYYY-MM-DD\'92. Each of these two files is stored as a text file, and each tuple is of size 100 bytes, stored as a separate line/record/row in the file. Each line is ended with the \'93return\'94 key. Suppose each block is of size 4K, holding 40 tuples.\
The rest of the block is left unused. Furthermore, the blocks of each file are stored in consecutive disk blocks. There is not delimiter separating the values of different fields/attribute. An example of a tuple in these files is as follows (but would be on a single line):\
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
123456782020-01-24John                     12223333333331455 de Maisonneuve West, Montreal, QC, H3G 1M8, Canada\
\
\pard\pardeftab720\ri0\qj\partightenfactor0
\cf0 Each of these files could contain tuples with duplicated Employee IDs. In this application, we say that tuples t1 and t2 are \'93duplicated\'94 if they have the same EmpID\'92s. (Note that this definition is not the same as the standard one which says t1 and t2 are duplicates if they have the same values for every attribute.) In T1 and T2, a tuple could have any number of \'93duplicates.\'94 In this project, you and your team are required to merge these two files as follows: for any duplicates of a tuple t, the final merges file should contain only the one that was most recently updated; all earlier updates of t will not be present in the output. Implement the TPMMS method and use it to produce the desired output. For instance, sort T1 and T2 first, and then identify and eliminate the duplicates in the merge phase. Report the number of output tuples, the number of blocks holding these tuples, the total number of disk I/O\'92s to perform the task, and the processing time. Ignore the number of the disk I/O\'92s and the time required to write the final result back to the disk. \
\
You need to evaluate the performance of your implementation using large instances of T1 and T2. The lab instructors will use instances of T1 and T2 which you can use to test and evaluate the performance. Your report should include the test results, at least on these instances.  You may include additional test results using the instances created by your team. \
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
\
\pard\pardeftab720\ri0\qj\partightenfactor0
\cf0 To further evaluate the performance of your implementation, consider instances of T1 and T2 at around 500,000 and 1,000,000 tuples, respectively. Study the performance of your implementation in the following two cases of restricted main memory available: (1) 10 MB and (2) 20 MB.\
Run the experiments in each of these two cases and report the following:\
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
\pard\pardeftab720\li720\fi-360\ri0\partightenfactor0
\ls1\ilvl0\cf0 Compare the number of disk I/O\'92s and the execution time, in seconds, for the sort operations given in each case of the two main memory sizes. This should include the time to write the sorted data back to the disk.\
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
\pard\pardeftab720\li720\fi-360\ri0\partightenfactor0
\ls2\ilvl0\cf0 Compare the number of disk I/O\'92s and the execution time for performing the whole task in each case of main memory sizes.\
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
\
\pard\pardeftab720\ri0\partightenfactor0

\f4\i\b \cf0 What tools you should use?  
\f0\i0\b0 \
\
Use VM argument Xmx5m in Eclipse to restrict the main memory sizes in Java Virtual Machine. \
\

\f4\i\b What to submit by the due date?\
\pard\pardeftab720\ri0\partightenfactor0

\f0\i0\b0 \cf0 \
Through Moodle, submit your report (in a single PDF format) and the source codes (a single zip file). This also includes instruction to compile and run your code. Make sure your program compiles and runs on the computers in the labs H-903 and H-907 assigned to the course.\
\
\pard\pardeftab720\ri0\partightenfactor0

\f2\b \cf0 Demos: 
\f0\b0 Book a time slot with the lab assistants for the demo of your project on Feb. 19th. Each member of a team must be present in their project demo.\
\
Bonus: The lab instructors may recommend additional 2 points \
       for the implementation with the best performance and \
       additional 1 point for the next best.\
\
\
\
\pard\pardeftab720\ri0\partightenfactor0

\f2\b \cf0 Case 1(Main Memory = 10 MB)\

\f0\b0 #T1_tuples = 500000\
#T2_tuples = 1000000\
#tuples = 1500000\
#blocks = #tuples / 40 = 37500\
tuple size = 100 bytes\
block size = 4KB = 4096 bytes\
Main Memory = 10 MB = 10485760 bytes\
1 chunk = 10485760 / 4096 = 2560 blocks\
#buffers = 2560\
#chunks = 37500 / 2560 = 15 (<= 2560 - 1)\
\
Pass 2\
#available buffers = 2560\
#input buffers needed = 15\
#output buffers = 1\
\
\pard\pardeftab720\ri0\partightenfactor0

\f2\b \cf0 Case 2(Main Memory = 20 MB)\

\f0\b0 #T1_tuples = 500000\
#T2_tuples = 1000000\
#tuples = 1500000\
#blocks = #tuples / 40 = 37500\
tuple size = 100 bytes\
block size = 4KB = 4096 bytes\
Main Memory = 20 MB = 20971520 bytes\
1 chunk = 20971520 / 4096 = 5120 blocks\
#buffers = 5120\
#chunks = 37500 / 5120 = 8 (<= 2560 - 1)\
\
Pass 2\
#available buffers = 5120\
#input buffers needed = 8\
#output buffers = 1\
\pard\pardeftab720\ri0\partightenfactor0
\cf0 \
\
\
\
}